<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SeizureShield</title>
    <link rel="stylesheet" href="./style.css" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,500;1,300&display=swap"
      rel="stylesheet"
    />
  </head>

  <!-- Firebase CODE -->>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>

  <script>
    // REPLACE WITH YOUR web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCHU39KJMTWUhjcRpT9CJaMOhTzTrHJ8lE",
      authDomain: "esp32paula-steam.firebaseapp.com",
      databaseURL:
        "https://esp32paula-steam-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "esp32paula-steam",
      storageBucket: "esp32paula-steam.appspot.com",
      messagingSenderId: "977960128968",
      appId: "1:977960128968:web:edbf16d1430f3dc17270fd",
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    var database = firebase.database();
  </script>
  <script src="app.js" defer></script>

  <body>
    <nav class="navbar navbar-expand-md navbar-dark">
      <div class="container-xxl">
        <a href="#intro" class="navbar-brand">
          <span class="fw-bold text-light">Seiuzre Shield</span></a
        >

        <!-- toggle button for mobile nav -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#main-nav"
          aria-controls="main-nav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- navbar links -->
        <div
          class="collapse navbar-collapse justify-content-end align-center"
          id="main-nav"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="#topics">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#reviews">About Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">GPS location</a>
            </li>

            <li class="nav-item ms-2 d-none d-md-inline">
              <a class="btn btn-primary" href="#pricing">Sensors Readings</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section id="intro">
      <div class="container col-xxl-8 px-4 py-5 pt-lg-5 py-lg-0">
        <div class="row flex-lg-row-reverse align-items-center">
          <div class="col-lg-6 col-sm py-5 pt-lg-5 py-lg-0">
            <img
              src="./assets/image.png"
              class="d-block mx-auto mx-lg-auto img-fluid"
              alt="Bootstrap Themes"
              width="700"
              height="500"
              loading="lazy"
            />
          </div>
          <div class="col-lg-6">
            <h1 class="display-5 fw-bold text-light lh-1 mb-3">
              Welcome To <br />
              Seizure <spam style="color: #0cc0df">Shield!</spam>
            </h1>
            <p class="lead text-light">
              A project that Monitors, Detects, Warns generalized epileptic
              seizure, with high speed and accuracy of detection..
            </p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
              <a href="#sensors">
                <button
                  type="button"
                  class="btn btn-primary btn-lg px-4 me-md-2"
                >
                  Sensors Readings
                </button>
              </a>

              <a href="#features">
                <button
                  type="button"
                  class="btn btn-outline-secondary btn-lg px-4"
                >
                  About Us
                </button>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="features" class="container">
      <div class="container px-4 py-5" id="hanging-icons">
        <h2 class="pb-2 border-bottom" style="color: #0f1035">
          Factors we monitor
        </h2>
        <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
          <div class="col d-flex align-items-start">
            <div
              class="icon-square text-body-emphasis d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-ev-front-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848Zm6.75.51a.186.186 0 0 0-.23.034L6.05 7.246a.188.188 0 0 0 .137.316h1.241l-.673 2.195a.19.19 0 0 0 .085.218c.075.043.17.03.23-.034l2.88-3.187a.188.188 0 0 0-.137-.316H8.572l.782-2.195a.19.19 0 0 0-.085-.218Z"
                />
              </svg>
            </div>
            <div>
              <h3 class="fs-3">Electricaal Conductivity</h3>
              <p>
                We use GSR sensor to monitor the electric Conductivity. when
                seizure occurs this value can be less than 5 or greater than 40
                μS.
              </p>
            </div>
          </div>
          <div class="col d-flex align-items-start">
            <div
              class="icon-square text-body-emphasis d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-thermometer-half"
                viewBox="0 0 16 16"
              >
                <path
                  d="M9.5 12.5a1.5 1.5 0 1 1-2-1.415V6.5a.5.5 0 0 1 1 0v4.585a1.5 1.5 0 0 1 1 1.415"
                />
                <path
                  d="M5.5 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0zM8 1a1.5 1.5 0 0 0-1.5 1.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0l-.166-.15V2.5A1.5 1.5 0 0 0 8 1"
                />
              </svg>
            </div>
            <div>
              <h3 class="fs-3">Temperature</h3>
              <p>
                When seizure occurs, the temperature of the body rises to be
                greater than 37.8°C; due to the extensive viberations.
              </p>
            </div>
          </div>
          <div class="col d-flex align-items-start">
            <div
              class="icon-square text-body-emphasis d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                class="bi bi-arrows-move"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10M.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8"
                />
              </svg>
            </div>
            <div>
              <h3 class="fs-3">Motion</h3>
              <p>
                We monitor motion as a third confirming factor of seizure.
                During seizure, the position graphs X,Y, and Z will show
                abnormal ups and downs.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="sensors">
      <div class="allsensorsdivs container justify-content-center">
        <h2 class="py-4" style="color: #0f1035">Sensors Readings</h2>

        <div class="row">
          <div class="col col-lg-6 gsr">
            <h4 class="h4gsr p-3">GSR (Skin Electric Conductivity)</h4>
            <iframe
              class="shadow"
              width="450"
              height="260"
              style="border: 1px solid #cccccc"
              src="https://thingspeak.com/channels/2376639/charts/1?bgcolor=%23ffffff&color=%23d62020&max=01%3A00%3A00&min=00%3A00%3A00&results=20&title=GSR+readings"
            ></iframe>
            <div
              class="d-flex justify-content-sm-start justify-content-md-center"
            >
              <button
                class="sensorsbtm btn btn-outline-primary rounded-pill d-inline-block p-3 mt-4"
              >
                Current Value:
                <span
                  id="gsr-int"
                  class="value"
                  style="font-weight: bold"
                ></span>
              </button>
            </div>
          </div>

          <div class="col col-lg-6 temp">
            <h4 class="p-3">Temperature</h4>
            <iframe
              class="shadow"
              width="450"
              height="260"
              style="border: 1px solid #cccccc"
              src="https://thingspeak.com/channels/2376639/charts/2?bgcolor=%23ffffff&color=%23d62020&max=18%3A00%3A00&min=17%3A00%3A00&results=15&title=Temp+Readings"
            ></iframe>
            <div
              class="d-flex justify-content-sm-start justify-content-md-center"
            >
              <button
                class="sensorsbtm btn btn-outline-primary rounded-pill d-inline-block p-3 mt-4"
              >
                Current Value:
                <span
                  id="temp-float"
                  class="value"
                  style="font-weight: bold"
                ></span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid justify-content-center mx-2">
        <div class="accelemoter row mt-4">
          <div class="x col col-lg-4">
            <h4 class="p-3">X coordinates</h4>
            <iframe
              class="shadow"
              width="450"
              height="260"
              style="border: 1px solid #cccccc"
              src="https://thingspeak.com/channels/2376639/charts/3?bgcolor=%23ffffff&color=%23d62020&max=01%3A00%3A00&min=00%3A00%3A00&results=15&title=X+coordinates"
            ></iframe>
            <div
              class="d-flex justify-content-sm-start justify-content-md-center"
            >
              <button
                class="sensorsbtm btn btn-outline-primary rounded-pill d-inline-block p-3 mt-4 mb-4 mx-sm-4"
              >
                Current Value:
                <span
                  id="x-float"
                  class="value"
                  style="font-weight: bold"
                ></span>
              </button>
            </div>
          </div>
          <div class="y col col-lg-4">
            <h4 class="y p-3">Y coordinates</h4>
            <iframe
              class="shadow"
              width="450"
              height="260"
              style="border: 1px solid #cccccc"
              src="https://thingspeak.com/channels/2376639/charts/4?bgcolor=%23ffffff&color=%23d62020&results=25&title=Y+coordinates"
            ></iframe>
            <div
              class="d-flex justify-content-sm-start justify-content-md-center"
            >
              <button
                class="sensorsbtm btn btn-outline-primary rounded-pill d-inline-block p-3 mt-4 mb-4 mx-sm-4"
              >
                Current Value:
                <span
                  id="y-float"
                  class="value"
                  style="font-weight: bold"
                ></span>
              </button>
            </div>
          </div>
          <div class="z col col-lg-4">
            <h4 class="p-3">Z coordinates</h4>
            <iframe
              class="shadow ms-sm-3 ms-lg-0"
              width="450"
              height="260"
              style="border: 1px solid #cccccc"
              src="https://thingspeak.com/channels/2376639/charts/5?bgcolor=%23ffffff&color=%23d62020&results=25&title=Z+coordinates"
            ></iframe>
            <div
              class="d-flex justify-content-sm-start justify-content-md-center"
            >
              <button
                class="sensorsbtm btn btn-outline-primary rounded-pill d-inline-block p-3 mt-4 mb-4 mx-sm-4"
              >
                Current Value:
                <span
                  id="z-float"
                  class="value"
                  style="font-weight: bold"
                ></span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section>
      <div class="locationdiv container mt-5" id="gps">
        <h2 class="p-3 text-primary mb-4" style="text-align: left">
          GPS readings
        </h2>
        <div class="alert alert-success m-3" role="alert">
          For your safety, please allow us to trigger and update your location.
        </div>
        <button onclick="getLocation()" class="btn btn-primary m-3">
          Get Location
        </button>
      </div>
      <div id="map" class="container-fluid pt-2" style="height: 20rem"></div>
    </section>

    <footer class="py-3 my-4">
      <ul class="nav justify-content-center border-bottom pb-3 mb-3">
        <li class="nav-item">
          <a href="#intro" class="nav-link px-2 text-white">Home</a>
        </li>
        <li class="nav-item">
          <a href="#features" class="nav-link px-2 text-white">Features</a>
        </li>
        <li class="nav-item">
          <a href="#sensors" class="nav-link px-2 text-white"
            >Sensors Readings</a
          >
        </li>
        <li class="nav-item">
          <a href="#gps" class="nav-link px-2 text-white">GPS</a>
        </li>
      </ul>
      <p class="text-center text-white">
        © 2024 Team338: Paula Alfons, David Elks, and Tony Ashraf, Inc
      </p>
    </footer>
    <script
      src="https://chatthing.ai/chat-widget.js"
      type="text/javascript"
      id="8d2f2a44-aa5a-4fce-91d6-6499fb8038ae"
      async
      defer
    ></script>
    <script>
      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showMap);
        } else {
          alert("Geolocation is not supported by this browser.");
        }
      }

      function showMap(position) {
        const latitude = position.coords.latitude;
        const longitude = position.coords.longitude;
        const mapUrl = `https://maps.google.com/maps?q=${latitude},${longitude}&output=embed`;

        // Display map in iframe
        document.getElementById(
          "map"
        ).innerHTML = `<iframe style="height:100%" class="container-fluid shadow" src="${mapUrl}"></iframe>`;

        // Storing location in a variable (if needed)
        const location = {
          latitude: latitude,
          longitude: longitude,
        };
        console.log("Location:", location);

        getLocationAndUpdateMap();

        // Refresh location every minute
        setInterval(getLocationAndUpdateMap, 60000); // 60000 milliseconds = 1 minute
      }
    </script>
  </body>
</html>
